"use strict";$(function(){$(function(){$(".site__header").each(function(){new n($(this))}),$(".main").each(function(){new i($(this))}),$(".project__slider").each(function(){new t($(this))}),$(".form-validation").each(function(){new e($(this))}),$(".all-works").each(function(){new o($(this))}),$(".filter").each(function(){new r($(this))})});var n=function(n){var i=n,t=$(".menu__close, .menu-btn"),e=!1,o=function(){$(window).on({resize:function(){s()}}),t.on({click:function(){i.toggleClass("open"),t.toggleClass("open")}})},r=function(){i.niceScroll({cursorcolor:"#fff",railalign:"right",cursorwidth:3,cursorborder:0,autohidemode:!1,railpadding:{top:0,right:0,left:0,bottom:0}})},s=function(){e?$(window).width()>1023?i.getNiceScroll().resize():(i.getNiceScroll().remove(),i.removeClass("site__header_nice-scroll"),e=!1):$(window).width()>1023&&(r(),i.addClass("site__header_nice-scroll"),e=!0)},a=function(){o(),s()};a()},i=function(n){var i=n,t=n.find(".main__slider-next"),e=n.find(".main__slider-prev"),o=i.find(".main__slider"),r=null,s=1,a=n.find(".main__clients-pagination"),f=i.find(".main__clients"),c=null,l=5e3,u=1,d=function(){},p=function(){r=new Swiper(o.find(".swiper-container"),{nextButton:t,prevButton:e,slidesPerView:s,loop:!0})},_=function(){c=new Swiper(f.find(".swiper-container"),{pagination:a,slidesPerView:u,loop:!0,autoplay:l,paginationClickable:!0})},h=function(){d(),p(),_()};h()},t=function(n){var i=n,t=n.find(".project__slider-next"),e=n.find(".project__slider-prev"),o=null,r=1,s=function(){},a=function(){o=new Swiper(i.find(".swiper-container"),{nextButton:t,prevButton:e,slidesPerView:r,loop:!0})},f=function(){s(),a()};f()},e=function(n){var i=this,t=n,e=t.attr("action"),o=t.find("[required]"),r=t.find(".site__form-sent"),s=new XMLHttpRequest,a=function(){t.on({submit:function(){return $.each(o,function(){var n=$(this),i=n.attr("type");if(""==n.val()&&n.parent().addClass("form-validation__error"),"email"==i){var t=/^([a-z0-9_\.-])+@[a-z0-9-]+\.([a-z]{2,4}\.)?[a-z]{2,4}$/i;0==t.test(n.val())&&n.parent().addClass("form-validation__error")}}),t.find(".form-validation__error").length?!1:(f(),!1)}}),o.on({focus:function(){var n=$(this);n.parent().hasClass("form-validation__error")&&n.parent().removeClass("form-validation__error")}})},f=function(){s.abort(),s=$.ajax({url:e,data:t.serialize(),dataType:"html",timeout:2e4,type:"get",success:function(){r.length&&r.addClass("site__form-sent_show")},error:function(n){"abort"!=n.statusText&&alert("Error!")}})},c=function(){a(),t[0].obj=i};c()},o=function(n){var i=this,t=n,e=t.find(".site__title"),o=e.offset().top,r=e.innerHeight(),s=0,a=t.find(".filter"),f=a.offset().top,c=a.innerHeight(),l=0,u=$(window),d=u.scrollTop(),p=function(){u.on({load:function(){o=e.offset().top,f=a.offset().top,h()},scroll:function(){h()},resize:function(){o=e.offset().top,f=a.offset().top,h()}})},_=function(){var n;s=e.hasClass("fixed")?e.innerHeight()+parseInt(e.css("margin-bottom")):0,l=a.hasClass("fixed")?a.innerHeight()+parseInt(a.css("margin-bottom")):0,n=s+l,t.css({"padding-top":n})},h=function(){r=e.innerHeight(),c=a.innerHeight(),d=u.scrollTop(),m(),w(),_()},m=function(){d>=f-r?(a.addClass("fixed"),a.css({top:r})):(a.removeClass("fixed"),a.css({top:""}))},w=function(){d>o?e.addClass("fixed"):e.removeClass("fixed")},v=function(){h(),p(),t[0].obj=i};v()},r=function(n){var i=this,t=n,e=t.find("input"),o=function(){e.on({change:function(){t.submit()}})},r=function(){o(),t[0].obj=i};r()}});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwiZWFjaCIsIk1lbnUiLCJ0aGlzIiwiTWFpbiIsIlByb2plY3RTbGlkZXIiLCJGb3JtVmFsaWRhdGlvbiIsIkFsbFdvcmtzIiwiRmlsdGVyIiwib2JqIiwiX29iaiIsIl9idG5zIiwiX3Njcm9sbEFkZGVkIiwiX2FkZEV2ZW50cyIsIndpbmRvdyIsIm9uIiwicmVzaXplIiwiX2NhbkFkZFNjcm9sbCIsImNsaWNrIiwidG9nZ2xlQ2xhc3MiLCJfYWRkU2Nyb2xsIiwibmljZVNjcm9sbCIsImN1cnNvcmNvbG9yIiwicmFpbGFsaWduIiwiY3Vyc29yd2lkdGgiLCJjdXJzb3Jib3JkZXIiLCJhdXRvaGlkZW1vZGUiLCJyYWlscGFkZGluZyIsInRvcCIsInJpZ2h0IiwibGVmdCIsImJvdHRvbSIsIndpZHRoIiwiZ2V0TmljZVNjcm9sbCIsInJlbW92ZSIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJfaW5pdCIsIl9uZXh0QnRuIiwiZmluZCIsIl9wcmV2QnRuIiwiX21haW5TbGlkZXJXcmFwIiwiX21haW5TbGlkZXIiLCJfcGVyVmlldyIsIl9wYWdpbmF0aW9uQ2xpZW50cyIsIl9tYWluU2xpZGVyQ2xpZW50c1dyYXAiLCJfbWFpblNsaWRlckNsaWVudHMiLCJfZHVyYXRpb24iLCJfcGVyVmlld0NsaWVudHMiLCJfYWRkTWFpblNsaWRlciIsIlN3aXBlciIsIm5leHRCdXR0b24iLCJwcmV2QnV0dG9uIiwic2xpZGVzUGVyVmlldyIsImxvb3AiLCJfYWRkTWFpblNsaWRlckNsaWVudHMiLCJwYWdpbmF0aW9uIiwiYXV0b3BsYXkiLCJwYWdpbmF0aW9uQ2xpY2thYmxlIiwiX2FkZFNsaWRlciIsIl9zZWxmIiwiX3BhdGgiLCJhdHRyIiwiX2lucHV0cyIsIl9zZW50TWVzc2FnZU1hcmsiLCJfcmVxdWVzdCIsIlhNTEh0dHBSZXF1ZXN0Iiwic3VibWl0IiwiY3VySXRlbSIsImN1ckF0dHIiLCJ2YWwiLCJwYXJlbnQiLCJwYXR0ZXJuIiwidGVzdCIsImxlbmd0aCIsIl9hamF4UmVxdWVzdCIsImZvY3VzIiwiaGFzQ2xhc3MiLCJhYm9ydCIsImFqYXgiLCJ1cmwiLCJkYXRhIiwic2VyaWFsaXplIiwiZGF0YVR5cGUiLCJ0aW1lb3V0IiwidHlwZSIsInN1Y2Nlc3MiLCJlcnJvciIsInN0YXR1c1RleHQiLCJhbGVydCIsIl9zaXRlVGl0bGUiLCJfdGl0bGVQb3NUb3AiLCJvZmZzZXQiLCJfdGl0bGVIZWlnaHQiLCJpbm5lckhlaWdodCIsIl90aXRsZUhlaWdodEluZGVudCIsIl9maWx0ZXIiLCJfZmlsdGVyUG9zVG9wIiwiX2ZpbHRlckhlaWdodCIsIl9maWx0ZXJIZWlnaHRJbmRlbnQiLCJfd2luZG93IiwiX3Njcm9sbFRvcCIsInNjcm9sbFRvcCIsImxvYWQiLCJfY2FsY3VsYXRlVmFsdWVzIiwic2Nyb2xsIiwiX2FkZFBhZGRpbmciLCJwYWRkaW5nVG9wIiwicGFyc2VJbnQiLCJjc3MiLCJwYWRkaW5nLXRvcCIsIl9maWx0ZXJGaXhlZCIsIl90aXRsZUZpeGVkIiwiX2l0ZW0iLCJjaGFuZ2UiXSwibWFwcGluZ3MiOiJBQUFBLFlBQUFBLEdBQUUsV0FHRUEsRUFBRSxXQUVFQSxFQUFFLGlCQUFpQkMsS0FBTSxXQUNyQixHQUFJQyxHQUFNRixFQUFFRyxTQUdoQkgsRUFBRSxTQUFTQyxLQUFNLFdBQ2IsR0FBSUcsR0FBTUosRUFBRUcsU0FHaEJILEVBQUUsb0JBQW9CQyxLQUFNLFdBQ3hCLEdBQUlJLEdBQWVMLEVBQUVHLFNBR3pCSCxFQUFFLG9CQUFvQkMsS0FBTSxXQUN4QixHQUFJSyxHQUFnQk4sRUFBRUcsU0FHMUJILEVBQUUsY0FBY0MsS0FBTSxXQUNsQixHQUFJTSxHQUFVUCxFQUFFRyxTQUdwQkgsRUFBRSxXQUFXQyxLQUFNLFdBQ2YsR0FBSU8sR0FBUVIsRUFBRUcsVUFLdEIsSUFBSUQsR0FBTyxTQUFVTyxHQUdqQixHQUFJQyxHQUFPRCxFQUNQRSxFQUFPWCxFQUFFLDJCQUNUWSxHQUFlLEVBR2ZDLEVBQWEsV0FDVGIs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QkksRUFBZ0JGLEVBQVFGLGNBQ3hCTyxFQUFhRCxFQUFRRSxZQUNyQlMsSUFDQUMsSUFDQU4sS0FFSkssRUFBZSxXQUVOVixHQUFjSixFQUFnQkosR0FDL0JHLEVBQVE1RCxTQUFVLFNBQ2xCNEQsRUFBUWEsS0FDSmpGLElBQUtpRSxNQUdURyxFQUFRN0QsWUFBYSxTQUNyQjZELEVBQVFhLEtBQ0pqRixJQUFLLE9BS2pCb0YsRUFBYyxXQUVMWCxFQUFhVixFQUNkRCxFQUFXdEQsU0FBVSxTQUVyQnNELEVBQVd2RCxZQUFhLFVBSWhDRSxFQUFRLFdBQ0ptRSxJQUNBM0YsSUFDQUgsRUFBSyxHQUFHRCxJQUFNbUQsRUFHdEJ2QixNQUlBN0IsRUFBUyxTQUFVQyxHQUVuQixHQUFJbUQsR0FBUXpELEtBQ1JPLEVBQU9ELEVBQ1B3RyxFQUFRdkcsRUFBSzZCLEtBQU0sU0FFbkIxQixFQUFhLFdBRVRvRyxFQUFNbEcsSUFDRm1HLE9BQVEsV0FDSnhHLEVBQUt5RCxhQUtqQjlCLEVBQVEsV0FDSnhCLElBQ0FILEVBQUssR0FBR0QsSUFBTW1ELEVBR3RCdkIiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoZnVuY3Rpb24oKXtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICAkKGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICQoJy5zaXRlX19oZWFkZXInKS5lYWNoKCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbmV3IE1lbnUoICQodGhpcykgKTtcclxuICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICQoJy5tYWluJykuZWFjaCggZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIG5ldyBNYWluKCAkKHRoaXMpICk7XHJcbiAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAkKCcucHJvamVjdF9fc2xpZGVyJykuZWFjaCggZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIG5ldyBQcm9qZWN0U2xpZGVyKCAkKHRoaXMpICk7XHJcbiAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAkKCcuZm9ybS12YWxpZGF0aW9uJykuZWFjaCggZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIG5ldyBGb3JtVmFsaWRhdGlvbiggJCh0aGlzKSApO1xyXG4gICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgJCgnLmFsbC13b3JrcycpLmVhY2goIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBuZXcgQWxsV29ya3MoICQodGhpcykgKTtcclxuICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICQoJy5maWx0ZXInKS5lYWNoKCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbmV3IEZpbHRlciggJCh0aGlzKSApO1xyXG4gICAgICAgIH0gKTtcclxuXHJcbiAgICB9KTtcclxuXHJcbiAgICB2YXIgTWVudSA9IGZ1bmN0aW9uKCBvYmogKSB7XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXHJcbiAgICAgICAgdmFyIF9vYmogPSBvYmosXHJcbiAgICAgICAgICAgIF9idG5zPSAkKCcubWVudV9fY2xvc2UsIC5tZW51LWJ0bicpLFxyXG4gICAgICAgICAgICBfc2Nyb2xsQWRkZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcclxuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICQod2luZG93KS5vbigge1xyXG4gICAgICAgICAgICAgICAgICAgICdyZXNpemUnOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2NhbkFkZFNjcm9sbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICBfYnRucy5vbigge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX29iai50b2dnbGVDbGFzcyggJ29wZW4nICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9idG5zLnRvZ2dsZUNsYXNzKCAnb3BlbicgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfYWRkU2Nyb2xsID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBfb2JqLm5pY2VTY3JvbGwoe1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnNvcmNvbG9yOiBcIiNmZmZcIixcclxuICAgICAgICAgICAgICAgICAgICByYWlsYWxpZ246ICdyaWdodCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yd2lkdGg6IDMsXHJcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yYm9yZGVyOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dG9oaWRlbW9kZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgcmFpbHBhZGRpbmc6IHt0b3A6IDAsIHJpZ2h0OiAwLCBsZWZ0OiAwLCBib3R0b206IDB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2NhbkFkZFNjcm9sbCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCBfc2Nyb2xsQWRkZWQgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCAkKCB3aW5kb3cgKS53aWR0aCgpID4gMTAyMyApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX29iai5nZXROaWNlU2Nyb2xsKCkucmVzaXplKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX29iai5nZXROaWNlU2Nyb2xsKCkucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9vYmoucmVtb3ZlQ2xhc3MoICdzaXRlX19oZWFkZXJfbmljZS1zY3JvbGwnICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zY3JvbGxBZGRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCAkKCB3aW5kb3cgKS53aWR0aCgpID4gMTAyMyApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2FkZFNjcm9sbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfb2JqLmFkZENsYXNzKCAnc2l0ZV9faGVhZGVyX25pY2Utc2Nyb2xsJyApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfc2Nyb2xsQWRkZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XHJcbiAgICAgICAgICAgICAgICBfY2FuQWRkU2Nyb2xsKCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIF9pbml0KCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBNYWluID0gZnVuY3Rpb24ob2JqKSB7XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXHJcbiAgICAgICAgdmFyIF9vYmogPSBvYmosXHJcbiAgICAgICAgICAgIF9uZXh0QnRuID0gb2JqLmZpbmQoICcubWFpbl9fc2xpZGVyLW5leHQnICksXHJcbiAgICAgICAgICAgIF9wcmV2QnRuID0gb2JqLmZpbmQoICcubWFpbl9fc2xpZGVyLXByZXYnICksXHJcbiAgICAgICAgICAgIF9tYWluU2xpZGVyV3JhcCA9IF9vYmouZmluZCgnLm1haW5fX3NsaWRlcicpLFxyXG4gICAgICAgICAgICBfbWFpblNsaWRlciA9IG51bGwsXHJcbiAgICAgICAgICAgIF9wZXJWaWV3ID0gMSxcclxuICAgICAgICAgICAgX3BhZ2luYXRpb25DbGllbnRzID0gb2JqLmZpbmQoICcubWFpbl9fY2xpZW50cy1wYWdpbmF0aW9uJyApLFxyXG4gICAgICAgICAgICBfbWFpblNsaWRlckNsaWVudHNXcmFwID0gX29iai5maW5kKCcubWFpbl9fY2xpZW50cycpLFxyXG4gICAgICAgICAgICBfbWFpblNsaWRlckNsaWVudHMgPSBudWxsLFxyXG4gICAgICAgICAgICBfZHVyYXRpb24gPSA1MDAwLFxyXG4gICAgICAgICAgICBfcGVyVmlld0NsaWVudHMgPSAxO1xyXG5cclxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xyXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24oKSB7XHJcblxyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2FkZE1haW5TbGlkZXIgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBfbWFpblNsaWRlciA9IG5ldyBTd2lwZXIoIF9tYWluU2xpZGVyV3JhcC5maW5kKCAnLnN3aXBlci1jb250YWluZXInICksIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0QnV0dG9uOiBfbmV4dEJ0bixcclxuICAgICAgICAgICAgICAgICAgICBwcmV2QnV0dG9uOiBfcHJldkJ0bixcclxuICAgICAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiBfcGVyVmlldyxcclxuICAgICAgICAgICAgICAgICAgICBsb29wOiB0cnVlXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2FkZE1haW5TbGlkZXJDbGllbnRzID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgX21haW5TbGlkZXJDbGllbnRzID0gbmV3IFN3aXBlciggX21haW5TbGlkZXJDbGllbnRzV3JhcC5maW5kKCAnLnN3aXBlci1jb250YWluZXInICksIHtcclxuICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uOiBfcGFnaW5hdGlvbkNsaWVudHMsXHJcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogX3BlclZpZXdDbGllbnRzLFxyXG4gICAgICAgICAgICAgICAgICAgIGxvb3A6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0b3BsYXk6IF9kdXJhdGlvbixcclxuICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uQ2xpY2thYmxlOiB0cnVlXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcclxuICAgICAgICAgICAgICAgIF9hZGRNYWluU2xpZGVyKCk7XHJcbiAgICAgICAgICAgICAgICBfYWRkTWFpblNsaWRlckNsaWVudHMoKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy9wdWJsaWMgcHJvcGVydGllc1xyXG5cclxuICAgICAgICAvL3B1YmxpYyBtZXRob2RzXHJcblxyXG4gICAgICAgIF9pbml0KCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBQcm9qZWN0U2xpZGVyID0gZnVuY3Rpb24ob2JqKSB7XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXHJcbiAgICAgICAgdmFyIF9vYmogPSBvYmosXHJcbiAgICAgICAgICAgIF9uZXh0QnRuID0gb2JqLmZpbmQoICcucHJvamVjdF9fc2xpZGVyLW5leHQnICksXHJcbiAgICAgICAgICAgIF9wcmV2QnRuID0gb2JqLmZpbmQoICcucHJvamVjdF9fc2xpZGVyLXByZXYnICksXHJcbiAgICAgICAgICAgIF9tYWluU2xpZGVyID0gbnVsbCxcclxuICAgICAgICAgICAgX3BlclZpZXcgPSAxO1xyXG5cclxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xyXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24oKSB7XHJcblxyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2FkZFNsaWRlciA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIF9tYWluU2xpZGVyID0gbmV3IFN3aXBlciggX29iai5maW5kKCAnLnN3aXBlci1jb250YWluZXInICksIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0QnV0dG9uOiBfbmV4dEJ0bixcclxuICAgICAgICAgICAgICAgICAgICBwcmV2QnV0dG9uOiBfcHJldkJ0bixcclxuICAgICAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiBfcGVyVmlldyxcclxuICAgICAgICAgICAgICAgICAgICBsb29wOiB0cnVlXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcclxuICAgICAgICAgICAgICAgIF9hZGRTbGlkZXIoKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy9wdWJsaWMgcHJvcGVydGllc1xyXG5cclxuICAgICAgICAvL3B1YmxpYyBtZXRob2RzXHJcblxyXG4gICAgICAgIF9pbml0KCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBGb3JtVmFsaWRhdGlvbiA9IGZ1bmN0aW9uKCBvYmogKSB7XHJcblxyXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXHJcbiAgICAgICAgICAgIF9vYmogPSBvYmosXHJcbiAgICAgICAgICAgIF9wYXRoID0gX29iai5hdHRyKCAnYWN0aW9uJyApLFxyXG4gICAgICAgICAgICBfaW5wdXRzID0gX29iai5maW5kKCAnW3JlcXVpcmVkXScgKSxcclxuICAgICAgICAgICAgX3NlbnRNZXNzYWdlTWFyayA9IF9vYmouZmluZCggJy5zaXRlX19mb3JtLXNlbnQnICksXHJcbiAgICAgICAgICAgIF9yZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcblxyXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgX29iai5vbih7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICdzdWJtaXQnOiBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJC5lYWNoKCBfaW5wdXRzLCBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0gJCggdGhpcyApLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ckF0dHIgPSBjdXJJdGVtLmF0dHIoICd0eXBlJyApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggY3VySXRlbS52YWwoKSA9PSAnJyApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJJdGVtLnBhcmVudCgpLmFkZENsYXNzKCAnZm9ybS12YWxpZGF0aW9uX19lcnJvcicgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGN1ckF0dHIgPT0gJ2VtYWlsJyApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXR0ZXJuID0gL14oW2EtejAtOV9cXC4tXSkrQFthLXowLTktXStcXC4oW2Etel17Miw0fVxcLik/W2Etel17Miw0fSQvaTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIHBhdHRlcm4udGVzdCggY3VySXRlbS52YWwoKSApID09IGZhbHNlICl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ckl0ZW0ucGFyZW50KCkuYWRkQ2xhc3MoICdmb3JtLXZhbGlkYXRpb25fX2Vycm9yJyApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggX29iai5maW5kKCAnLmZvcm0tdmFsaWRhdGlvbl9fZXJyb3InICkubGVuZ3RoICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2FqYXhSZXF1ZXN0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIF9pbnB1dHMub24oe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAnZm9jdXMnOiBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0gJCggdGhpcyApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGN1ckl0ZW0ucGFyZW50KCkuaGFzQ2xhc3MoICdmb3JtLXZhbGlkYXRpb25fX2Vycm9yJyApICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VySXRlbS5wYXJlbnQoKS5yZW1vdmVDbGFzcyggJ2Zvcm0tdmFsaWRhdGlvbl9fZXJyb3InICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2FqYXhSZXF1ZXN0ID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgX3JlcXVlc3QuYWJvcnQoKTtcclxuICAgICAgICAgICAgICAgIF9yZXF1ZXN0ID0gJC5hamF4KHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IF9wYXRoLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IF9vYmouc2VyaWFsaXplKCksXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdodG1sJyxcclxuICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiAyMDAwMCxcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImdldFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vX29iai50cmlnZ2VyKCAncmVzZXQnICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIF9zZW50TWVzc2FnZU1hcmsubGVuZ3RoICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NlbnRNZXNzYWdlTWFyay5hZGRDbGFzcyggJ3NpdGVfX2Zvcm0tc2VudF9zaG93JyApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoIFhNTEh0dHBSZXF1ZXN0ICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggWE1MSHR0cFJlcXVlc3Quc3RhdHVzVGV4dCAhPSBcImFib3J0XCIgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydCggJ0Vycm9yIScgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XHJcbiAgICAgICAgICAgICAgICBfb2JqWyAwIF0ub2JqID0gX3NlbGY7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIF9pbml0KCk7XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgQWxsV29ya3MgPSBmdW5jdGlvbiAoIG9iaiApIHtcclxuXHJcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcclxuICAgICAgICAgICAgX29iaiA9IG9iaixcclxuICAgICAgICAgICAgX3NpdGVUaXRsZSA9IF9vYmouZmluZCggJy5zaXRlX190aXRsZScgKSxcclxuICAgICAgICAgICAgX3RpdGxlUG9zVG9wID0gX3NpdGVUaXRsZS5vZmZzZXQoKS50b3AsXHJcbiAgICAgICAgICAgIF90aXRsZUhlaWdodCA9IF9zaXRlVGl0bGUuaW5uZXJIZWlnaHQoKSxcclxuICAgICAgICAgICAgX3RpdGxlSGVpZ2h0SW5kZW50ID0gMCxcclxuICAgICAgICAgICAgX2ZpbHRlciA9IF9vYmouZmluZCggJy5maWx0ZXInICksXHJcbiAgICAgICAgICAgIF9maWx0ZXJQb3NUb3AgPSBfZmlsdGVyLm9mZnNldCgpLnRvcCxcclxuICAgICAgICAgICAgX2ZpbHRlckhlaWdodCA9IF9maWx0ZXIuaW5uZXJIZWlnaHQoKSxcclxuICAgICAgICAgICAgX2ZpbHRlckhlaWdodEluZGVudCA9IDAsXHJcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKCB3aW5kb3cgKSxcclxuICAgICAgICAgICAgX3Njcm9sbFRvcCA9IF93aW5kb3cuc2Nyb2xsVG9wKCk7XHJcblxyXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oe1xyXG4gICAgICAgICAgICAgICAgICAgICdsb2FkJzogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RpdGxlUG9zVG9wID0gX3NpdGVUaXRsZS5vZmZzZXQoKS50b3A7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9maWx0ZXJQb3NUb3AgPSBfZmlsdGVyLm9mZnNldCgpLnRvcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2NhbGN1bGF0ZVZhbHVlcygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgJ3Njcm9sbCc6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jYWxjdWxhdGVWYWx1ZXMoKTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICdyZXNpemUnOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGl0bGVQb3NUb3AgPSBfc2l0ZVRpdGxlLm9mZnNldCgpLnRvcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2ZpbHRlclBvc1RvcCA9IF9maWx0ZXIub2Zmc2V0KCkudG9wO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfY2FsY3VsYXRlVmFsdWVzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfYWRkUGFkZGluZyA9IGZ1bmN0aW9uKCkgIHtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcGFkZGluZ1RvcDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIF9zaXRlVGl0bGUuaGFzQ2xhc3MoICdmaXhlZCcgKSApe1xyXG4gICAgICAgICAgICAgICAgICAgIF90aXRsZUhlaWdodEluZGVudCA9IF9zaXRlVGl0bGUuaW5uZXJIZWlnaHQoKSArIHBhcnNlSW50KCBfc2l0ZVRpdGxlLmNzcyggJ21hcmdpbi1ib3R0b20nICkgKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RpdGxlSGVpZ2h0SW5kZW50ID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIF9maWx0ZXIuaGFzQ2xhc3MoICdmaXhlZCcgKSApe1xyXG4gICAgICAgICAgICAgICAgICAgIF9maWx0ZXJIZWlnaHRJbmRlbnQgPSBfZmlsdGVyLmlubmVySGVpZ2h0KCkgKyBwYXJzZUludCggX2ZpbHRlci5jc3MoICdtYXJnaW4tYm90dG9tJyApICk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIF9maWx0ZXJIZWlnaHRJbmRlbnQgPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHBhZGRpbmdUb3AgPSBfdGl0bGVIZWlnaHRJbmRlbnQgKyBfZmlsdGVySGVpZ2h0SW5kZW50O1xyXG5cclxuICAgICAgICAgICAgICAgIF9vYmouY3NzKCB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ3BhZGRpbmctdG9wJzogcGFkZGluZ1RvcFxyXG4gICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2NhbGN1bGF0ZVZhbHVlcyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgX3RpdGxlSGVpZ2h0ID0gX3NpdGVUaXRsZS5pbm5lckhlaWdodCgpO1xyXG4gICAgICAgICAgICAgICAgX2ZpbHRlckhlaWdodCA9IF9maWx0ZXIuaW5uZXJIZWlnaHQoKTtcclxuICAgICAgICAgICAgICAgIF9zY3JvbGxUb3AgPSBfd2luZG93LnNjcm9sbFRvcCgpO1xyXG4gICAgICAgICAgICAgICAgX2ZpbHRlckZpeGVkKCk7XHJcbiAgICAgICAgICAgICAgICBfdGl0bGVGaXhlZCgpO1xyXG4gICAgICAgICAgICAgICAgX2FkZFBhZGRpbmcoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2ZpbHRlckZpeGVkID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCBfc2Nyb2xsVG9wID49IF9maWx0ZXJQb3NUb3AgLSBfdGl0bGVIZWlnaHQgKXtcclxuICAgICAgICAgICAgICAgICAgICBfZmlsdGVyLmFkZENsYXNzKCAnZml4ZWQnICk7XHJcbiAgICAgICAgICAgICAgICAgICAgX2ZpbHRlci5jc3MoIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiBfdGl0bGVIZWlnaHRcclxuICAgICAgICAgICAgICAgICAgICB9ICk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIF9maWx0ZXIucmVtb3ZlQ2xhc3MoICdmaXhlZCcgKTtcclxuICAgICAgICAgICAgICAgICAgICBfZmlsdGVyLmNzcygge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3A6ICcnXHJcbiAgICAgICAgICAgICAgICAgICAgfSApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX3RpdGxlRml4ZWQgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIF9zY3JvbGxUb3AgPiBfdGl0bGVQb3NUb3AgKXtcclxuICAgICAgICAgICAgICAgICAgICBfc2l0ZVRpdGxlLmFkZENsYXNzKCAnZml4ZWQnICk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIF9zaXRlVGl0bGUucmVtb3ZlQ2xhc3MoICdmaXhlZCcgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgX2NhbGN1bGF0ZVZhbHVlcygpO1xyXG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xyXG4gICAgICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgX2luaXQoKTtcclxuXHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBGaWx0ZXIgPSBmdW5jdGlvbiggb2JqICkge1xyXG5cclxuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxyXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxyXG4gICAgICAgICAgICBfaXRlbSA9IF9vYmouZmluZCggJ2lucHV0JyApO1xyXG5cclxuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIF9pdGVtLm9uKCB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX29iai5zdWJtaXQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xyXG4gICAgICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgX2luaXQoKTtcclxuXHJcbiAgICB9O1xyXG5cclxufSk7XHJcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
